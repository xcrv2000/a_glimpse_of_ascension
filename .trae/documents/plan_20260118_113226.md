# 改进 semanticInterpreter 生成更清晰的自然语言描述

## 1. 改进目标

* 为每个属性提供更详细的解释，包括：
  * 该属性的定义（这是什么）
  * 该属性对游戏世界的意义（应该如何根据这个值渲染游戏世界）
* 为系统性属性（景深、节拍等）提供独特的解释语句
* 基于参考文件中的系统数据解读说明生成解释
* 提高生成文本的可读性和可理解性

## 2. 具体改进方案

### 2.1 增强叙事信息描述

* **当前时间**：
  * 定义：游戏内的当前时间
  * 游戏世界意义：影响场景氛围、角色行为和事件发生时机

* **景深级别**：
  * 为每个景深级别（1-5）添加独特的解释
  * 基于参考文件中的景深系统说明生成解释
  * 说明当前景深级别对描写细节的影响

* **故事节拍**：
  * 为每个节拍（起、承、转、合）设计独特的解释语句
  * 基于参考文件中的叙事系统说明生成解释
  * 说明当前节拍的叙事目标、风格要求和字数建议

### 2.2 改进角色信息描述

* **角色属性**：
  * 为每个角色属性（memoryPoints、template、relationship 等）添加定义和游戏世界意义
  * 说明这些属性如何影响角色的行为和互动方式

### 2.3 优化整体结构

* 使用更清晰的标题和分隔符
* 为每个属性组添加更明确的上下文
* 改进段落结构，提高可读性
* 基于参考文件中的系统数据解读说明组织内容

## 3. 实现细节

### 3.1 添加解释映射表

* 创建景深级别的解释映射，基于参考文件中的说明
* 创建故事节拍的解释映射，基于参考文件中的说明
* 创建其他系统属性的解释映射

### 3.2 重写 convertDataToNaturalLanguage 方法

* 使用新的解释映射生成更丰富的描述
* 确保每个属性都包含定义和游戏世界意义两部分
* 为不同节拍提供独特的解释语句
* 基于参考文件中的系统数据解读说明组织内容

### 3.3 保持向后兼容

* 确保改进后的代码与现有系统兼容
* 不破坏现有的功能和API

## 4. 代码修改计划

* **src/js/semanticInterpreter.js**（修改）：重写 convertDataToNaturalLanguage 方法，实现新的解释逻辑

## 5. 预期效果

* 生成的自然语言描述更清晰、更有指导性
* AI能够更好地理解每个属性的意义和影响
* 不同故事节拍下生成的描述具有独特性
* 基于参考文件中的系统数据解读说明生成解释，确保准确性和一致性

