# 更新storyteller提示词计划

## 核心原则调整

根据反馈，故事讲述者**只需要知道数据表达什么，以及如何用于渲染故事**，不需要了解数据的来源、记录方式或技术细节。

## 问题分析

通过对比`data.json`和`prompt_storyteller.json`，我发现了以下需要更新的问题：

1. **数据字段解读不一致**：

   * `data.json`中的部分字段（如`beatStats`、`currentBeatCycle`、`memoryPoints`等）在提示词中没有对应解读

   * 提示词中提到的成就系统在当前`data.json`中没有直接体现

2. **数据解读缺漏**：

   * 缺少对`events`和`foreshadowings`字段的解读

   * 缺少对`narrative`字段细分项的解读

   * 缺少对`characters`字段细分项的解读

3. **数据解读过于复杂**：

   * 部分数据解读过于详细，占用过多token

   * 没有聚焦于故事渲染的实际需求

## 更新计划

### 1. 简化并聚焦数据解读

* 只保留与故事渲染直接相关的数据解读

* 去掉与故事生成无关的技术细节

* 保持简洁，避免占用过多token

### 2. 补充缺失的数据解读（聚焦故事渲染）

#### 2.1 补充narrative字段解读

* **depthLevel**：控制叙事的详细程度（1-5，从宏观到微观）

* **storyBeat**：当前故事阶段（起承转合），影响叙事风格

* **beatStats**：当前和之前的节拍统计，帮助把握故事节奏

* **currentBeatCycle**：当前是第几个起承转合循环，了解故事整体进度

* **totalWords** & **currentCycleWords**：帮助控制叙事长度和节奏

#### 2.2 补充characters字段解读

* **memoryPoints**：角色的核心特征，用于塑造角色形象

* **template**：角色的性格模板，影响角色行为和对话

* **relationship**：与玩家的关系，影响互动方式

* **thingsDone**：角色的行为记录，保持角色一致性

#### 2.3 补充events和foreshadowings字段解读

* **events**：当前发生的事件，用于融入叙事

* **foreshadowings**：故事中的伏笔，用于保持叙事连贯性

### 3. 更新现有数据解读

#### 3.1 更新节拍系统解读

* 简化节拍描述，聚焦于叙事风格指导

* 去掉复杂的字数建议，保留核心原则

#### 3.2 更新游戏资产系统解读

* 简化资产类别描述，聚焦于如何在故事中体现

* 去掉与故事生成无关的技术细节

### 4. 优化秘密信息指导

* 明确秘密信息是给故事记录者的简洁指导

* 建议包含：

  * 故事状态评估

  * 重要事件和伏笔识别

  * 角色变化

  * 对故事节奏的建议

* 强调简洁性，避免冗余

## 更新内容详细说明

### 1. 更新"五、系统数据解读说明"部分

#### 1.1 景深系统（简化）

* 说明景深等级对叙事详细程度的影响

* 提供简单的调整建议

#### 1.2 节拍系统（简化）

* 说明不同节拍对应的叙事风格

* 补充`beatStats`和`currentBeatCycle`对叙事节奏的指导

#### 1.3 添加事件和伏笔解读

* 说明如何将事件和伏笔融入叙事

* 提供简单的使用建议

#### 1.4 角色系统（补充）

* 说明角色字段如何影响角色塑造和互动

#### 1.5 游戏资产系统（简化）

* 说明如何在故事中体现不同类型的资产

### 2. 更新"六、秘密信息"部分

* 简化秘密信息的指导

* 聚焦于对故事记录者有用的核心信息

* 强调简洁性和重点突出

## 预期效果

通过以上更新，storyteller提示词将：

* 与`data.json`的实际字段保持一致

* 为AI提供清晰、简洁的数据解读，聚焦于故事渲染

* 生成更有效的秘密信息，帮助故事记录者理解故事状态

* 保持简洁，避免占用过多token

