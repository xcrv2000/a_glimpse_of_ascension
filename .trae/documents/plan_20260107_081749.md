# 实现游戏引擎功能计划

## 1. 创建基础文件

* 在项目根目录创建一个名为`engine.js`的空文件

* 在项目根目录创建一个名为`data.json`的空文件

* 确保两个文件内部留空，不包含任何代码

## 2. 集成engine.js到游戏中

* 修改`chat.html`文件，在HTML头部添加对`engine.js`的引用

* 确保引用方式不会影响页面性能或用户体验

## 3. 实现引擎启动机制

* 在`chat.html`的JavaScript部分添加引擎启动函数

* 确保在页面加载时或游戏开始时启动引擎

* 实现简单的启动逻辑，暂时不进行数据传输

## 4. 修改提示词生成逻辑

* 在`chat.html`的`callDeepSeekAPI`函数中，修改提示词生成顺序为：

  1. 首先加载`prompt.json`作为系统提示
  2. 然后加载`data.json`中的数据
  3. 接着添加对话上下文
  4. 最后添加用户当前输入

* 确保正确拼装这些内容为完整的提示词

## 5. 验证实现

* 确保游戏能够正常启动

* 验证引擎文件和数据文件被正确加载

* 确认提示词生成逻辑按照指定顺序执行

## 注意事项

* 保持`engine.js`和`data.json`文件为空，不添加任何代码

* 确保引擎是纯后台运行，玩家无法直接访问或看到它

* 暂时不实现数据统计和提示词转换功能，仅搭建基础框架

